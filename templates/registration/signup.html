{% extends "registration/base_auth.html" %}
{% block auth_title %}Registración{% endblock %}

{% block content_auth %}
<h2>Registrarse</h2>
<p class="muted small">
  Crea tu cuenta. A continuación, únete a un grupo mediante un código.
</p>

{% if form.non_field_errors %}
  <div class="alert">
    {% for e in form.non_field_errors %}{{ e }}{% endfor %}
  </div>
{% endif %}

<form method="post" class="form-grid" novalidate>
  {% csrf_token %}

  <div class="field">
    <label for="{{ form.username.id_for_label }}">Usuario</label>
    {{ form.username }}
    {% for e in form.username.errors %}
      <div class="field-error">{{ e }}</div>
    {% endfor %}
  </div>

  <div class="field">
    <label for="{{ form.email.id_for_label }}">E-Mail</label>
    {{ form.email }}
    {% for e in form.email.errors %}
      <div class="field-error">{{ e }}</div>
    {% endfor %}
  </div>

  <div class="field">
    <label for="{{ form.password1.id_for_label }}">Clave</label>
    {{ form.password1 }}
    {% for e in form.password1.errors %}
      <div class="field-error">{{ e }}</div>
    {% endfor %}
  </div>

  <div class="field">
    <label for="{{ form.password2.id_for_label }}">Repetir clave</label>
    {{ form.password2 }}
    {% for e in form.password2.errors %}
      <div class="field-error">{{ e }}</div>
    {% endfor %}
  </div>

  {% if form.errors and not form.non_field_errors %}
    <div class="alert">Por favor revisa tus datos.</div>
  {% endif %}

  <div class="actions">
    <button class="btn primary" type="submit">Crear cuenta</button>
  </div>
</form>

<div class="muted small" style="margin-top:12px; text-align:center;">
  ¿Ya estás registrado?
  <a href="{% url 'login' %}">Iniciar sesión</a>
</div>
{% endblock %}